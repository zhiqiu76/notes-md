#### ps 命令

> 要对进程进行监测和控制,首先必须要了解当前进程的情况,也就是需要查看当前进程,ps命令就是最基本进程查看命令。使用该命令可以确定有哪些进程正在运行和运行的状态、进程是否结束、进程有没有僵尸、哪些进程占用了过多的资源等等.总之大部分信息都是可以通过执行该命令得到。ps是显示瞬间进程的状态，并不动态连续；如果想对进程进行实时监控应该用top命令。 

- -A ：所有的进程均显示出来，与 -e 具有同样的效用； 注意和 -a 区分
- -a ： 显示现行终端机下的所有进程，包括其他用户的进程； 仅仅是当前终端
- -u ：以用户为主的显示进程状态 ；
- x ：通常与 a 这个参数一起使用，可列出较完整信息。

> 输出格式的规划

- l ：较长、较详细的将该PID 的的信息列出；
- j ：工作的格式 (jobs format)
- -f ：做一个更为完整的输出。

```
ps -l 

F S   UID    PID   PPID  C PRI  NI ADDR SZ WCHAN  TTY          TIME CMD
4 S     0   1654   1652  0  80   0 - 28943 do_wai pts/0    00:00:00 bash
0 R     0   1802   1654  0  80   0 - 38300 -      pts/0    00:00:00 ps


F 代表这个程序的旗标 (flag)， 4 代表使用者为 superuser；
S 代表这个程序的状态 (STAT)；
UID 代表执行者身份
PID 进程的ID号！
PPID 父进程的ID；
C CPU使用的资源百分比
PRI指进程的执行优先权(Priority的简写)，其值越小越早被执行；
NI 这个进程的nice值，其表示进程可被执行的优先级的修正数值。
ADDR 这个是内核函数，指出该程序在内存的那个部分。如果是个执行 的程序，一般就是『 - 』
SZ 使用掉的内存大小；
WCHAN 目前这个程序是否正在运作当中，若为 - 表示正在运作；
TTY 登入者的终端机位置；
TIME 使用掉的 CPU 时间。
CMD 所下达的指令名称
```

#### top 命令

top命令是Linux下常用的性能分析工具，能够实时显示系统中各个进程的资源占用状况，常用于服务端性能分析 

```
参数说明
d 指定每两次屏幕信息刷新之间的时间间隔。当然用户可以使用s交互命令来改变之。 
p 通过指定监控进程ID来仅仅监控某个进程的状态。 
q 该选项将使top没有任何延迟的进行刷新。如果调用程序有超级用户权限，那么top将以尽可能高的优先级运行。 
S 指定累计模式 
s 使top命令在安全模式中运行。这将去除交互命令所带来的潜在危险。 
i 使top不显示任何闲置或者僵死进程。 
c 显示整个命令行而不只是显示命令名

```

```
total 进程总数
running 正在运行的进程数
sleeping 睡眠的进程数
stopped 停止的进程数
zombie 僵尸进程数
Cpu(s): 
us 用户空间占用CPU百分比
sy 内核空间占用CPU百分比
ni 用户进程空间内改变过优先级的进程占用CPU百分比
id 空闲CPU百分比
wa 等待输入输出的CPU时间百分比
hi：硬件CPU中断占用百分比
si：软中断占用百分比
st：虚拟机占用百分比

Mem:
total    物理内存总量
used    使用的物理内存总量
free    空闲内存总量
buffers    用作内核缓存的内存量
Swap: 
total    交换区总量
0k used    使用的交换区总量
free    空闲交换区总量
cached    缓冲的交换区总量,内存中的内容被换出到交换区，而后又被换入到内存，但使用过的交换区尚未被覆盖，该数值即为这些内容已存在于内存中的交换区的大小,相应的内存再次被换出时可不必再对交换区写入。
```

####  后台程序 nohub

若想一个程序放在后台运行，只要在命令后面加 &符号

ping [www.baidu.com](http://www.baidu.com) > ping.log  &

jobs –l 列出当前连接的所有后台进程  或者 ps -a

注意：jobs命令只看当前终端生效的，关闭终端后，在另一个终端jobs已经无法看到后台跑得程序了 



后台进程有时运行一段时间后，系统会自动把该进程挂起来，导致进程无法正常运行。

故后台经常一般和nohup命令结合使用，告诉系统不要把该进程挂起，这样子该命令就可以24*7小时不间断的运行了。

nohup ping [www.baidu.com](http://www.baidu.com) > ping2.log & 



#### 杀死进程 kill

用法 kill pid  

-9 强制杀死 

可以先用jobs –l或ps 命令先查出对应程序的PID或PPID ，然后杀死掉进程 

kill -9 pid

